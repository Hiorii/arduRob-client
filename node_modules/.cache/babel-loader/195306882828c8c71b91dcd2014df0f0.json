{"ast":null,"code":"import _slicedToArray from\"/home/hiorii/Desktop/arduRob/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import{useSelector,useDispatch}from'react-redux';import{logoutUser}from'../../../redux/userRedux';import{Link,useHistory,useLocation}from'react-router-dom';import{UserContext}from'../../../context/userContext';import styles from'./Header.module.scss';import{BiUserCircle,BiCartAlt}from'react-icons/bi';import{AiOutlineUser}from'react-icons/ai';import{cartTotalQuantity}from'../../../redux/cartRedux';import Burger from'../Burger/Burger';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=function Header(){var history=useHistory();var location=useLocation();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),scrollPos=_useState2[0],setScrollPos=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),activeShop=_useState4[0],setActiveShop=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),activeAbout=_useState6[0],setActiveAbout=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),activeContact=_useState8[0],setActiveContact=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),cartTotal=_useState10[0],setCartTotal=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showMenu=_useState12[0],setShowMenu=_useState12[1];var currentUser=useContext(UserContext).user;var dispatch=useDispatch();var cartTotalValue=useSelector(cartTotalQuantity);var headerStyles=function headerStyles(){setScrollPos(window.scrollY);};var userLogout=function userLogout(){dispatch(logoutUser());window.location.reload();};var showMenuUser=function showMenuUser(){setShowMenu(!showMenu);};useEffect(function(){if((cartTotalValue===null||cartTotalValue===void 0?void 0:cartTotalValue.length)>0){var total=cartTotalValue.reduce(function(a,b){return a+b;});setCartTotal(total);}else{setCartTotal(0);}window.addEventListener('scroll',headerStyles);return function(){window.removeEventListener('scroll',headerStyles);};},[cartTotalValue]);useEffect(function(){if(history.location.pathname==='/shop'){setActiveShop(true);setActiveAbout(false);setActiveContact(false);}else if(history.location.pathname==='/about'){setActiveShop(false);setActiveAbout(true);setActiveContact(false);}else if(history.location.pathname==='/contact'){setActiveShop(false);setActiveAbout(false);setActiveContact(true);}else{setActiveShop(false);setActiveAbout(false);setActiveContact(false);}setShowMenu(false);},[location]);return/*#__PURE__*/_jsx(\"div\",{id:\"root\",className:scrollPos>0?styles.root&&styles.rootScroll:styles.root,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.burger,children:/*#__PURE__*/_jsx(Burger,{pageWrapId:'list',outerContainerId:'root'})}),/*#__PURE__*/_jsx(\"div\",{className:styles.logo,children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.png\",alt:\"logo\"}),/*#__PURE__*/_jsx(\"span\",{children:\"ArduRob\"})]})}),/*#__PURE__*/_jsxs(\"div\",{id:\"list\",className:styles.list,children:[/*#__PURE__*/_jsx(Link,{to:\"/shop\",className:activeShop?styles.active:'',children:\"Shop\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:activeAbout?styles.active:'',children:\"About\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:activeContact?styles.active:'',children:\"Contact\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.icons,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.totalQuantity,children:cartTotal}),/*#__PURE__*/_jsx(\"div\",{className:styles.ico,onClick:showMenuUser,children:/*#__PURE__*/_jsx(BiUserCircle,{})}),/*#__PURE__*/_jsx(\"div\",{className:showMenu?styles.user:styles.userActive,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.userData,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.loUser,children:!(currentUser===null||currentUser===void 0?void 0:currentUser.token)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.userCommon,children:[/*#__PURE__*/_jsx(AiOutlineUser,{}),\" User Panel\"]}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Login\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.loUser,children:(currentUser===null||currentUser===void 0?void 0:currentUser.token)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.userCommon,children:[/*#__PURE__*/_jsx(AiOutlineUser,{}),\"  \",currentUser.result.firstName]}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Your profile\"})}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return userLogout();},children:\"Logout\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.ico,children:/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(BiCartAlt,{})})})]})]})});};export default Header;","map":{"version":3,"sources":["/home/hiorii/Desktop/arduRob/client/src/components/layout/Header/Header.js"],"names":["React","useState","useEffect","useContext","useSelector","useDispatch","logoutUser","Link","useHistory","useLocation","UserContext","styles","BiUserCircle","BiCartAlt","AiOutlineUser","cartTotalQuantity","Burger","Header","history","location","scrollPos","setScrollPos","activeShop","setActiveShop","activeAbout","setActiveAbout","activeContact","setActiveContact","cartTotal","setCartTotal","showMenu","setShowMenu","currentUser","user","dispatch","cartTotalValue","headerStyles","window","scrollY","userLogout","reload","showMenuUser","length","total","reduce","a","b","addEventListener","removeEventListener","pathname","root","rootScroll","container","burger","logo","list","active","icons","totalQuantity","ico","userActive","userData","loUser","token","userCommon","result","firstName"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {logoutUser} from '../../../redux/userRedux';\nimport {Link, useHistory, useLocation} from 'react-router-dom';\nimport {UserContext} from '../../../context/userContext';\nimport styles from './Header.module.scss';\nimport {BiUserCircle, BiCartAlt} from 'react-icons/bi';\nimport {AiOutlineUser} from 'react-icons/ai';\nimport {cartTotalQuantity} from '../../../redux/cartRedux';\nimport Burger from '../Burger/Burger';\n\nconst Header = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const [scrollPos, setScrollPos] = useState(0);\n  const [activeShop, setActiveShop] = useState(false);\n  const [activeAbout, setActiveAbout] = useState(false);\n  const [activeContact, setActiveContact] = useState(false);\n  const [cartTotal, setCartTotal] = useState(0);\n  const [showMenu, setShowMenu] = useState(false);\n  const currentUser = useContext(UserContext).user;\n  const dispatch = useDispatch();\n  const cartTotalValue = useSelector(cartTotalQuantity);\n  const headerStyles = () => {\n    setScrollPos(window.scrollY);\n  };\n\n  const userLogout = () => {\n    dispatch(logoutUser());\n    window.location.reload();\n  };\n\n  const showMenuUser = () => {\n    setShowMenu(!showMenu);\n  };\n\n  useEffect(()=> {\n    if(cartTotalValue?.length>0) {\n      const total = cartTotalValue.reduce((a,b)=> a + b);\n      setCartTotal(total);\n    } else {\n      setCartTotal(0);\n    }\n    window.addEventListener('scroll', headerStyles);\n    return () => {\n      window.removeEventListener('scroll', headerStyles);\n    };\n  },[cartTotalValue]);\n\n  useEffect(()=> {\n    if(history.location.pathname === '/shop') {\n      setActiveShop(true);\n      setActiveAbout(false);\n      setActiveContact(false);\n    } else if(history.location.pathname === '/about') {\n      setActiveShop(false);\n      setActiveAbout(true);\n      setActiveContact(false);\n    } else if(history.location.pathname === '/contact') {\n      setActiveShop(false);\n      setActiveAbout(false);\n      setActiveContact(true);\n    } else {\n      setActiveShop(false);\n      setActiveAbout(false);\n      setActiveContact(false);\n    }\n    setShowMenu(false);\n  },[location]);\n  return (\n    <div id='root' className={scrollPos > 0 ? styles.root && styles.rootScroll: styles.root}>\n      <div className={styles.container}>\n        <div className={styles.burger}>\n          <Burger pageWrapId={'list'} outerContainerId={'root'} />\n        </div>\n        <div className={styles.logo}>\n          <Link to='/'>\n            <img src='/images/logo.png' alt='logo'/>\n            <span>ArduRob</span>\n          </Link>\n        </div>\n        <div id='list' className={styles.list}>\n          <Link to='/shop' className={activeShop ? styles.active : ''}>Shop</Link>\n          <Link to='/' className={activeAbout ? styles.active : ''}>About</Link>\n          <Link to='/' className={activeContact ? styles.active : ''}>Contact</Link>\n        </div>\n        <div className={styles.icons}>\n          <div className={styles.totalQuantity}>\n            {cartTotal}\n          </div>\n          <div className={styles.ico} onClick={showMenuUser}>\n            <BiUserCircle />\n          </div>\n          <div className={showMenu ? styles.user : styles.userActive}>\n            <div className={styles.userData}>\n              <div className={styles.loUser}>\n                {!currentUser?.token &&\n                <>\n                  <div className={styles.userCommon}>\n                    <AiOutlineUser /> User Panel\n                  </div>\n                  <Link to='/login'>\n                    <p>Login</p>\n                  </Link>\n                </>\n                }\n              </div>\n              <div className={styles.loUser}>\n                {currentUser?.token &&\n                <>\n                  <div className={styles.userCommon}>\n                    <AiOutlineUser />  {currentUser.result.firstName}\n                  </div>\n                  <Link to='/login'>\n                    <p>Your profile</p>\n                  </Link>\n                  <p onClick={()=>userLogout()}>Logout</p>\n                </>\n                }\n              </div>\n            </div>\n          </div>\n          <div className={styles.ico}>\n            <Link to='/cart'>\n              <BiCartAlt />\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}