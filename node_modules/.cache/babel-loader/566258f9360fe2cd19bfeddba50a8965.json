{"ast":null,"code":"import _objectSpread from\"/home/hiorii/Desktop/arduRob/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/hiorii/Desktop/arduRob/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/hiorii/Desktop/arduRob/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{initialState}from'./initialState';import axios from'axios';import{API_URL}from'../config';/* selectors */export var getAllCategory=function getAllCategory(_ref){var category=_ref.category;return category.data;};export var getAllSubCategory=function getAllSubCategory(_ref2){var category=_ref2.category;return category.subcategory;};/* action name creator */var reducerName='category';var createActionName=function createActionName(name){return\"app/\".concat(reducerName,\"/\").concat(name);};/* action types */var FETCH_START=createActionName('FETCH_START');var FETCH_SUCCESS=createActionName('FETCH_SUCCESS');var FETCH_ERROR=createActionName('FETCH_ERROR');var FETCH_SUBCATEGORY=createActionName('FETCH_SUBCATEGORY');/* action creators */export var fetchStarted=function fetchStarted(payload){return{payload:payload,type:FETCH_START};};export var fetchSuccess=function fetchSuccess(payload){return{payload:payload,type:FETCH_SUCCESS};};export var fetchError=function fetchError(payload){return{payload:payload,type:FETCH_ERROR};};export var fetchSubcategory=function fetchSubcategory(payload){return{payload:payload,type:FETCH_SUBCATEGORY};};/* thunk creators */export var fetchCategory=function fetchCategory(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(fetchStarted());_context.prev=1;_context.next=4;return axios.get(\"\".concat(API_URL,\"/categories\"));case 4:res=_context.sent;dispatch(fetchSuccess(res));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(fetchError(_context.t0.message||true));case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref3.apply(this,arguments);};}();};export var fetchSubCategory=function fetchSubCategory(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(fetchStarted());_context2.prev=1;_context2.next=4;return axios.get(\"\".concat(API_URL,\"/subCategories\"));case 4:res=_context2.sent;dispatch(fetchSubcategory(res));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch(fetchError(_context2.t0.message||true));case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x2){return _ref4.apply(this,arguments);};}();};/* reducer */export var reducer=function reducer(){var statePart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};switch(action.type){case FETCH_START:{return _objectSpread(_objectSpread({},statePart),{},{loading:{active:true,error:false}});}case FETCH_SUCCESS:{return _objectSpread(_objectSpread({},statePart),{},{loading:{active:false,error:false},data:action.payload});}case FETCH_SUBCATEGORY:{return _objectSpread(_objectSpread({},statePart),{},{loading:{active:false,error:false},subcategory:action.payload});}case FETCH_ERROR:{return _objectSpread(_objectSpread({},statePart),{},{loading:{active:false,error:action.payload}});}default:return statePart;}};","map":{"version":3,"sources":["/home/hiorii/Desktop/arduRob/client/src/redux/categoryRedux.js"],"names":["initialState","axios","API_URL","getAllCategory","category","data","getAllSubCategory","subcategory","reducerName","createActionName","name","FETCH_START","FETCH_SUCCESS","FETCH_ERROR","FETCH_SUBCATEGORY","fetchStarted","payload","type","fetchSuccess","fetchError","fetchSubcategory","fetchCategory","dispatch","get","res","message","fetchSubCategory","reducer","statePart","action","loading","active","error"],"mappings":"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","sourcesContent":["import {initialState} from './initialState';\nimport axios from 'axios';\nimport {API_URL} from '../config';\n\n/* selectors */\nexport const getAllCategory = ({category}) => category.data;\nexport const getAllSubCategory = ({category}) => category.subcategory;\n\n/* action name creator */\nconst reducerName = 'category';\nconst createActionName = name => `app/${reducerName}/${name}`;\n\n/* action types */\nconst FETCH_START = createActionName('FETCH_START');\nconst FETCH_SUCCESS = createActionName('FETCH_SUCCESS');\nconst FETCH_ERROR = createActionName('FETCH_ERROR');\nconst FETCH_SUBCATEGORY = createActionName('FETCH_SUBCATEGORY');\n\n/* action creators */\nexport const fetchStarted = payload => ({ payload, type: FETCH_START });\nexport const fetchSuccess = payload => ({ payload, type: FETCH_SUCCESS });\nexport const fetchError = payload => ({ payload, type: FETCH_ERROR });\nexport const fetchSubcategory = payload => ({ payload, type: FETCH_SUBCATEGORY });\n\n\n/* thunk creators */\nexport const fetchCategory = () => {\n  return async (dispatch) => {\n    dispatch(fetchStarted());\n    try {\n      const res = await axios.get(`${API_URL}/categories`);\n      dispatch(fetchSuccess(res));\n    } catch (err) {\n      dispatch(fetchError(err.message || true));\n    }\n  };\n};\n\nexport const fetchSubCategory = () => {\n  return async (dispatch) => {\n    dispatch(fetchStarted());\n    try {\n      const res = await axios.get(`${API_URL}/subCategories`);\n      dispatch(fetchSubcategory(res));\n    } catch (err) {\n      dispatch(fetchError(err.message || true));\n    }\n  };\n};\n\n/* reducer */\nexport const reducer = (statePart = initialState, action = {}) => {\n  switch (action.type) {\n    case FETCH_START: {\n      return {\n        ...statePart,\n        loading: {\n          active: true,\n          error: false,\n        },\n      };\n    }\n    case FETCH_SUCCESS: {\n      return {\n        ...statePart,\n        loading: {\n          active: false,\n          error: false,\n        },\n        data: action.payload,\n      };\n    }\n    case FETCH_SUBCATEGORY: {\n      return {\n        ...statePart,\n        loading: {\n          active: false,\n          error: false,\n        },\n        subcategory: action.payload,\n      };\n    }\n    case FETCH_ERROR: {\n      return {\n        ...statePart,\n        loading: {\n          active: false,\n          error: action.payload,\n        },\n      };\n    }\n    default:\n      return statePart;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}