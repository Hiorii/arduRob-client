{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useLocation}from'react-router-dom';import styles from'./MainLayout.module.scss';import Header from'../Header/Header';import Alerts from'../../features/Alert/Alert';import{fetchProducts,getAllProducts}from'../../../redux/productRedux';import{fetchCategory}from'../../../redux/categoryRedux';import{useDispatch}from'react-redux';import Popup from'../../features/Popup/Popup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainLayout=function MainLayout(_ref){var children=_ref.children;var location=useLocation();var dataProduct=JSON.parse(localStorage.getItem('products'));var dispatch=useDispatch();useEffect(function(){if(!dataProduct){dispatch(fetchProducts());}dispatch(fetchCategory());},[dispatch]);useEffect(function(){window.scrollTo(0,0);},[location]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsx(Alerts,{}),/*#__PURE__*/_jsx(Popup,{}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:styles.child,children:children})]});};export default MainLayout;","map":{"version":3,"sources":["/home/hiorii/Desktop/arduRob/client/src/components/layout/MainLayout/MainLayout.js"],"names":["React","useEffect","useState","useLocation","styles","Header","Alerts","fetchProducts","getAllProducts","fetchCategory","useDispatch","Popup","MainLayout","children","location","dataProduct","JSON","parse","localStorage","getItem","dispatch","window","scrollTo","root","child"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,OAAQC,aAAR,CAAuBC,cAAvB,KAA4C,6BAA5C,CACA,OAAQC,aAAR,KAA4B,8BAA5B,CACA,OAAQC,WAAR,KAA0B,aAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,4BAAlB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAgB,IAAdC,CAAAA,QAAc,MAAdA,QAAc,CACjC,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CACA,GAAMY,CAAAA,WAAW,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAApB,CAEA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAEAT,SAAS,CAAC,UAAK,CACb,GAAG,CAACc,WAAJ,CAAiB,CACfK,QAAQ,CAACb,aAAa,EAAd,CAAR,CACD,CACDa,QAAQ,CAACX,aAAa,EAAd,CAAR,CACD,CALQ,CAKP,CAACW,QAAD,CALO,CAAT,CAOAnB,SAAS,CAAC,UAAM,CACdoB,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACD,CAFQ,CAEN,CAACR,QAAD,CAFM,CAAT,CAIA,mBACE,aAAK,SAAS,CAAEV,MAAM,CAACmB,IAAvB,wBACE,KAAC,MAAD,IADF,cAEE,KAAC,KAAD,IAFF,cAGE,KAAC,MAAD,IAHF,cAIE,YAAK,SAAS,CAAEnB,MAAM,CAACoB,KAAvB,UACGX,QADH,EAJF,GADF,CAaD,CA9BD,CAuCA,cAAeD,CAAAA,UAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useLocation} from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './MainLayout.module.scss';\nimport Header from '../Header/Header';\nimport Alerts from '../../features/Alert/Alert';\nimport {fetchProducts, getAllProducts} from '../../../redux/productRedux';\nimport {fetchCategory} from '../../../redux/categoryRedux';\nimport {useDispatch} from 'react-redux';\nimport Popup from '../../features/Popup/Popup';\n\nconst MainLayout = ({children}) => {\n  const location = useLocation();\n  const dataProduct = JSON.parse(localStorage.getItem('products'));\n\n  const dispatch = useDispatch();\n\n  useEffect(()=> {\n    if(!dataProduct) {\n      dispatch(fetchProducts());\n    }\n    dispatch(fetchCategory());\n  },[dispatch]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [location]);\n\n  return (\n    <div className={styles.root}>\n      <Alerts />\n      <Popup />\n      <Header />\n      <div className={styles.child}>\n        {children}\n      </div>\n      {/*<div className={styles.footer}>*/}\n      {/*  <Footer />*/}\n      {/*</div>*/}\n    </div>\n  );\n};\n\nMainLayout.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]),\n};\n\nexport default MainLayout;\n"]},"metadata":{},"sourceType":"module"}