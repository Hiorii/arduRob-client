{"ast":null,"code":"import _slicedToArray from\"/home/hiorii/Desktop/arduRob/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import{useSelector,useDispatch}from'react-redux';import styles from'./Cart.module.scss';import{Link}from'react-router-dom';import{MdKeyboardArrowRight}from'react-icons/md/index';import{BiMinus,BiCartAlt}from'react-icons/bi/index';import{BsPlus,BsArrowRightShort}from'react-icons/bs';import Button from'../../common/Button/Button';import{handleAddQuantity,handleMinusQuantity,handleClear}from'../../../redux/cartRedux';import{getAllProducts}from'../../../redux/productRedux';import{AlertContext}from'../../../context/alertContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cart=function Cart(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),cartProducts=_useState2[0],setCartProducts=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),handleChange=_useState4[0],setHandleChange=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isCouponVisible=_useState6[0],setIsCouponVisible=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),coupon=_useState8[0],setCoupon=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),couponDiscount=_useState10[0],setCouponDiscount=_useState10[1];var dispatch=useDispatch();var alert=useContext(AlertContext);var addQuantity=function addQuantity(id){setHandleChange(!handleChange);dispatch(handleAddQuantity(id));};var minusQuantity=function minusQuantity(id){setHandleChange(!handleChange);dispatch(handleMinusQuantity(id));};var clearItem=function clearItem(id){setHandleChange(!handleChange);dispatch(handleClear(id));};var handleCoupon=function handleCoupon(e){e.preventDefault();if(coupon==='arduRob'){setCouponDiscount(20);alert.successAlert('Couple code had been added');setTimeout(function(){alert.closeAlert();},3000);}else{setCouponDiscount(0);alert.dangerAlert('Couple code does not exist');setTimeout(function(){alert.closeAlert();},3000);}};var totalSub=function totalSub(){var prices=cartProducts.map(function(product){return product.price*product.cartQuantiy;});var total=prices.reduce(function(a,b){return a+b;});return total;};var totalPrice=function totalPrice(){var price=totalSub();if(couponDiscount===0){return price;}else{var discount=price*(couponDiscount/100);var pricePromo=price-discount;return pricePromo;}};useEffect(function(){var _JSON$parse;setCartProducts(((_JSON$parse=JSON.parse(localStorage.getItem('cart')))===null||_JSON$parse===void 0?void 0:_JSON$parse.data)||[]);},[handleChange]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.navigation,children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(MdKeyboardArrowRight,{}),\"Shoping Cart\"]})}),cartProducts&&cartProducts.length!==0&&/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.productsContainer,children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"image\"}),/*#__PURE__*/_jsx(\"td\",{children:\"product name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"categoty\"}),/*#__PURE__*/_jsx(\"td\",{children:\"quantity\"}),/*#__PURE__*/_jsx(\"td\",{children:\"total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cartProducts&&cartProducts.map(function(product,index){var _product$subCategoryI;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name})}),/*#__PURE__*/_jsx(\"td\",{className:styles.name,children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:(_product$subCategoryI=product.subCategoryId)===null||_product$subCategoryI===void 0?void 0:_product$subCategoryI.name}),/*#__PURE__*/_jsx(\"td\",{className:styles.quantity,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.quantityContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.inputContainer,children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"quantity\",value:product.cartQuantiy,readOnly:true}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return addQuantity(product._id);},children:[\" \",/*#__PURE__*/_jsx(BsPlus,{}),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return minusQuantity(product._id);},children:[\" \",/*#__PURE__*/_jsx(BiMinus,{}),\" \"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.btnContainer,children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return clearItem(product._id);},children:\" X \"})})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20AC \",parseFloat(product.price*product.cartQuantiy).toFixed(2)]})]},index);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.summarizing,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.containerSum,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.item,children:[/*#__PURE__*/_jsx(\"p\",{children:\"use coupon code\"}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsCouponVisible(!isCouponVisible);},children:/*#__PURE__*/_jsx(BsArrowRightShort,{})})})]}),isCouponVisible&&/*#__PURE__*/_jsx(\"div\",{className:styles.couponCont,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleCoupon(e);},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type arduRob for 20% discount\",onChange:function onChange(e){return setCoupon(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.final,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.finalInner,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sub-Total:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20AC \",parseFloat(totalSub()).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Discount Value:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[couponDiscount,\" %\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20AC \",parseFloat(totalPrice()).toFixed(2)]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.btnContainer,children:[/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Continue Shopping\"})}),/*#__PURE__*/_jsx(Link,{to:{pathname:'/cart/checkout',state:cartProducts},children:/*#__PURE__*/_jsx(\"button\",{children:\"Checkout\"})})]})]})})]}),!cartProducts||cartProducts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:styles.containerEmpty,children:[/*#__PURE__*/_jsx(BiCartAlt,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is currently empty.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Back to shop and find something for you.\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.btn,children:/*#__PURE__*/_jsx(Button,{data:\"Go to shop\",url:\"/shop\"})})]})]})]});};export default Cart;","map":{"version":3,"sources":["/home/hiorii/Desktop/arduRob/client/src/components/views/Cart/Cart.js"],"names":["React","useState","useEffect","useContext","useSelector","useDispatch","styles","Link","MdKeyboardArrowRight","BiMinus","BiCartAlt","BsPlus","BsArrowRightShort","Button","handleAddQuantity","handleMinusQuantity","handleClear","getAllProducts","AlertContext","Cart","cartProducts","setCartProducts","handleChange","setHandleChange","isCouponVisible","setIsCouponVisible","coupon","setCoupon","couponDiscount","setCouponDiscount","dispatch","alert","addQuantity","id","minusQuantity","clearItem","handleCoupon","e","preventDefault","successAlert","setTimeout","closeAlert","dangerAlert","totalSub","prices","map","product","price","cartQuantiy","total","reduce","a","b","totalPrice","discount","pricePromo","JSON","parse","localStorage","getItem","data","root","navigation","length","container","productsContainer","index","image","name","subCategoryId","quantity","quantityContainer","inputContainer","_id","btnContainer","parseFloat","toFixed","summarizing","containerSum","item","couponCont","target","value","final","finalInner","pathname","state","containerEmpty","btn"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,UAApC,KAAqD,OAArD,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,oBAAR,KAAmC,sBAAnC,CACA,OAAQC,OAAR,CAAiBC,SAAjB,KAAiC,sBAAjC,CACA,OAAQC,MAAR,CAAgBC,iBAAhB,KAAwC,gBAAxC,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,OAAQC,iBAAR,CAA2BC,mBAA3B,CAAgDC,WAAhD,KAAkE,0BAAlE,CACA,OAAQC,cAAR,KAA6B,6BAA7B,CACA,OAAQC,YAAR,KAA2B,+BAA3B,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,eACuBlB,QAAQ,EAD/B,wCACVmB,YADU,eACIC,eADJ,8BAEuBpB,QAAQ,CAAC,IAAD,CAF/B,yCAEVqB,YAFU,eAEIC,eAFJ,8BAG6BtB,QAAQ,CAAC,KAAD,CAHrC,yCAGVuB,eAHU,eAGOC,kBAHP,8BAIWxB,QAAQ,CAAC,EAAD,CAJnB,yCAIVyB,MAJU,eAIFC,SAJE,8BAK2B1B,QAAQ,CAAC,CAAD,CALnC,0CAKV2B,cALU,gBAKMC,iBALN,gBAMjB,GAAMC,CAAAA,QAAQ,CAAGzB,WAAW,EAA5B,CACA,GAAM0B,CAAAA,KAAK,CAAG5B,UAAU,CAACe,YAAD,CAAxB,CAEA,GAAMc,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,CAAQ,CAC1BV,eAAe,CAAC,CAACD,YAAF,CAAf,CACAQ,QAAQ,CAAChB,iBAAiB,CAACmB,EAAD,CAAlB,CAAR,CACD,CAHD,CAKA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACD,EAAD,CAAQ,CAC5BV,eAAe,CAAC,CAACD,YAAF,CAAf,CACAQ,QAAQ,CAACf,mBAAmB,CAACkB,EAAD,CAApB,CAAR,CACD,CAHD,CAKA,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACF,EAAD,CAAQ,CACxBV,eAAe,CAAC,CAACD,YAAF,CAAf,CACAQ,QAAQ,CAACd,WAAW,CAACiB,EAAD,CAAZ,CAAR,CACD,CAHD,CAKA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA,GAAGZ,MAAM,GAAK,SAAd,CAAyB,CACvBG,iBAAiB,CAAC,EAAD,CAAjB,CACAE,KAAK,CAACQ,YAAN,CAAmB,4BAAnB,EACAC,UAAU,CAAC,UAAK,CACdT,KAAK,CAACU,UAAN,GACD,CAFS,CAER,IAFQ,CAAV,CAGD,CAND,IAMO,CACLZ,iBAAiB,CAAC,CAAD,CAAjB,CACAE,KAAK,CAACW,WAAN,CAAkB,4BAAlB,EACAF,UAAU,CAAC,UAAK,CACdT,KAAK,CAACU,UAAN,GACD,CAFS,CAER,IAFQ,CAAV,CAGD,CACF,CAfD,CAiBA,GAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMC,CAAAA,MAAM,CAAGxB,YAAY,CAACyB,GAAb,CAAiB,SAAAC,OAAO,QAAIA,CAAAA,OAAO,CAACC,KAAR,CAAgBD,OAAO,CAACE,WAA5B,EAAxB,CAAf,CACA,GAAMC,CAAAA,KAAK,CAAGL,MAAM,CAACM,MAAP,CAAc,SAACC,CAAD,CAAGC,CAAH,QAAQD,CAAAA,CAAC,CAAGC,CAAZ,EAAd,CAAd,CACA,MAAOH,CAAAA,KAAP,CACD,CAJD,CAMA,GAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAMN,CAAAA,KAAK,CAAGJ,QAAQ,EAAtB,CACA,GAAGf,cAAc,GAAK,CAAtB,CAAyB,CACvB,MAAOmB,CAAAA,KAAP,CACD,CAFD,IAEO,CACL,GAAIO,CAAAA,QAAQ,CAAGP,KAAK,EAAInB,cAAc,CAAC,GAAnB,CAApB,CACA,GAAI2B,CAAAA,UAAU,CAAIR,KAAK,CAAGO,QAA1B,CACA,MAAOC,CAAAA,UAAP,CACD,CACF,CATD,CAWArD,SAAS,CAAC,UAAK,iBACbmB,eAAe,CAAC,cAAAmC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,mDAA0CC,IAA1C,GAAkD,EAAnD,CAAf,CACD,CAFQ,CAEP,CAACtC,YAAD,CAFO,CAAT,CAIA,mBACE,aAAK,SAAS,CAAEhB,MAAM,CAACuD,IAAvB,wBACE,YAAK,SAAS,CAAEvD,MAAM,CAACwD,UAAvB,uBACE,kCACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,kBADF,cAIE,KAAC,oBAAD,IAJF,kBADF,EADF,CAUG1C,YAAY,EAAIA,YAAY,CAAC2C,MAAb,GAAwB,CAAxC,eACC,aAAK,SAAS,CAAEzD,MAAM,CAAC0D,SAAvB,wBACE,qCADF,cAEE,YAAK,SAAS,CAAE1D,MAAM,CAAC2D,iBAAvB,uBACE,sCACE,oCACE,mCACE,6BADF,cAEE,oCAFF,cAGE,gCAHF,cAIE,gCAJF,cAKE,6BALF,GADF,EADF,cAUE,uBACG7C,YAAY,EAAIA,YAAY,CAACyB,GAAb,CAAiB,SAACC,OAAD,CAAUoB,KAAV,CAAoB,2BACpD,mBACE,mCACE,iCAAI,YAAK,GAAG,CAAEpB,OAAO,CAACqB,KAAlB,CAAyB,GAAG,CAAErB,OAAO,CAACsB,IAAtC,EAAJ,EADF,cAEE,WAAI,SAAS,CAAE9D,MAAM,CAAC8D,IAAtB,UAA6BtB,OAAO,CAACsB,IAArC,EAFF,cAGE,2CAAKtB,OAAO,CAACuB,aAAb,gDAAK,sBAAuBD,IAA5B,EAHF,cAIE,WAAI,SAAS,CAAE9D,MAAM,CAACgE,QAAtB,uBACE,aAAK,SAAS,CAAEhE,MAAM,CAACiE,iBAAvB,wBACE,aAAK,SAAS,CAAEjE,MAAM,CAACkE,cAAvB,wBACE,cACE,IAAI,CAAC,QADP,CAEE,EAAE,CAAC,UAFL,CAGE,KAAK,CAAE1B,OAAO,CAACE,WAHjB,CAIE,QAAQ,KAJV,EADF,cAOE,oCACE,cAAM,OAAO,CAAE,yBAAIhB,CAAAA,WAAW,CAACc,OAAO,CAAC2B,GAAT,CAAf,EAAf,4BAA8C,KAAC,MAAD,IAA9C,OADF,cAEE,cAAM,OAAO,CAAE,yBAAIvC,CAAAA,aAAa,CAACY,OAAO,CAAC2B,GAAT,CAAjB,EAAf,4BAAgD,KAAC,OAAD,IAAhD,OAFF,GAPF,GADF,cAaE,YAAK,SAAS,CAAEnE,MAAM,CAACoE,YAAvB,uBACE,eAAQ,OAAO,CAAE,yBAAIvC,CAAAA,SAAS,CAACW,OAAO,CAAC2B,GAAT,CAAb,EAAjB,iBADF,EAbF,GADF,EAJF,cAuBE,gCAAOE,UAAU,CAAC7B,OAAO,CAACC,KAAR,CAAgBD,OAAO,CAACE,WAAzB,CAAV,CAAgD4B,OAAhD,CAAwD,CAAxD,CAAP,GAvBF,GAASV,KAAT,CADF,CA2BD,CA5BgB,CADnB,EAVF,GADF,EAFF,cA8CE,YAAK,SAAS,CAAE5D,MAAM,CAACuE,WAAvB,uBACE,aAAK,SAAS,CAAEvE,MAAM,CAACwE,YAAvB,wBACE,aAAK,SAAS,CAAExE,MAAM,CAACyE,IAAvB,wBACE,sCADF,cAEE,mCACE,eAAQ,OAAO,CAAE,yBAAItD,CAAAA,kBAAkB,CAAC,CAACD,eAAF,CAAtB,EAAjB,uBACE,KAAC,iBAAD,IADF,EADF,EAFF,GADF,CASGA,eAAe,eACd,YAAK,SAAS,CAAElB,MAAM,CAAC0E,UAAvB,uBACE,cAAM,QAAQ,CAAE,kBAAA3C,CAAC,QAAED,CAAAA,YAAY,CAACC,CAAD,CAAd,EAAjB,wBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,+BAA/B,CAA+D,QAAQ,CAAE,kBAACA,CAAD,QAAKV,CAAAA,SAAS,CAACU,CAAC,CAAC4C,MAAF,CAASC,KAAV,CAAd,EAAzE,EADF,cAEE,eAAQ,IAAI,CAAC,QAAb,oBAFF,GADF,EAVJ,cAiBE,YAAK,SAAS,CAAE5E,MAAM,CAAC6E,KAAvB,uBACE,aAAK,SAAS,CAAE7E,MAAM,CAAC8E,UAAvB,wBACE,oCACE,iCADF,cAEE,+BAAMT,UAAU,CAAChC,QAAQ,EAAT,CAAV,CAAuBiC,OAAvB,CAA+B,CAA/B,CAAN,GAFF,GADF,cAKE,oCACE,sCADF,cAEE,qBAAIhD,cAAJ,QAFF,GALF,cASE,oCACE,6BADF,cAEE,+BAAM+C,UAAU,CAACtB,UAAU,EAAX,CAAV,CAAyBuB,OAAzB,CAAiC,CAAjC,CAAN,GAFF,GATF,GADF,EAjBF,cAiCE,aAAK,SAAS,CAAEtE,MAAM,CAACoE,YAAvB,wBACE,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,uBACE,6CADF,EADF,cAIE,KAAC,IAAD,EAAM,EAAE,CAAE,CACRW,QAAQ,CAAE,gBADF,CAERC,KAAK,CAAElE,YAFC,CAAV,uBAKE,oCALF,EAJF,GAjCF,GADF,EA9CF,GAXJ,CA2GG,CAACA,YAAD,EAAiBA,YAAY,CAAC2C,MAAb,GAAwB,CAAxB,eAChB,aAAK,SAAS,CAAEzD,MAAM,CAACiF,cAAvB,wBACE,KAAC,SAAD,IADF,cAEE,oCACE,oDADF,cAEE,+DAFF,cAGE,YAAK,SAAS,CAAEjF,MAAM,CAACkF,GAAvB,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,YAAb,CAA0B,GAAG,CAAC,OAA9B,EADF,EAHF,GAFF,GA5GJ,GADF,CA0HD,CAxLD,CA0LA,cAAerE,CAAAA,IAAf","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport styles from './Cart.module.scss';\nimport {Link} from 'react-router-dom';\nimport {MdKeyboardArrowRight} from 'react-icons/md/index';\nimport {BiMinus, BiCartAlt} from 'react-icons/bi/index';\nimport {BsPlus, BsArrowRightShort} from 'react-icons/bs';\nimport Button from '../../common/Button/Button';\nimport {handleAddQuantity, handleMinusQuantity, handleClear} from '../../../redux/cartRedux';\nimport {getAllProducts} from '../../../redux/productRedux';\nimport {AlertContext} from '../../../context/alertContext';\n\nconst Cart = () => {\n  const [cartProducts, setCartProducts] = useState();\n  const [handleChange, setHandleChange] = useState(true);\n  const [isCouponVisible, setIsCouponVisible] = useState(false);\n  const [coupon, setCoupon] = useState('');\n  const [couponDiscount, setCouponDiscount] = useState(0);\n  const dispatch = useDispatch();\n  const alert = useContext(AlertContext);\n\n  const addQuantity = (id) => {\n    setHandleChange(!handleChange);\n    dispatch(handleAddQuantity(id));\n  };\n\n  const minusQuantity = (id) => {\n    setHandleChange(!handleChange);\n    dispatch(handleMinusQuantity(id));\n  };\n\n  const clearItem = (id) => {\n    setHandleChange(!handleChange);\n    dispatch(handleClear(id));\n  };\n\n  const handleCoupon = (e) => {\n    e.preventDefault();\n    if(coupon === 'arduRob') {\n      setCouponDiscount(20);\n      alert.successAlert('Couple code had been added');\n      setTimeout(()=> {\n        alert.closeAlert();\n      },3000);\n    } else {\n      setCouponDiscount(0);\n      alert.dangerAlert('Couple code does not exist');\n      setTimeout(()=> {\n        alert.closeAlert();\n      },3000);\n    }\n  };\n\n  const totalSub = () => {\n    const prices = cartProducts.map(product => product.price * product.cartQuantiy);\n    const total = prices.reduce((a,b)=> a + b);\n    return total;\n  };\n\n  const totalPrice = () => {\n    const price = totalSub();\n    if(couponDiscount === 0) {\n      return price;\n    } else {\n      let discount = price * (couponDiscount/100);\n      let pricePromo =  price - discount;\n      return pricePromo;\n    }\n  };\n\n  useEffect(()=> {\n    setCartProducts(JSON.parse(localStorage.getItem('cart'))?.data || []);\n  },[handleChange]);\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.navigation}>\n        <p>\n          <Link to='/'>\n            Home\n          </Link>\n          <MdKeyboardArrowRight />\n          Shoping Cart\n        </p>\n      </div>\n      {cartProducts && cartProducts.length !== 0 &&\n        <div className={styles.container}>\n          <h1>Shopping Cart</h1>\n          <div className={styles.productsContainer}>\n            <table>\n              <thead>\n                <tr>\n                  <td>image</td>\n                  <td>product name</td>\n                  <td>categoty</td>\n                  <td>quantity</td>\n                  <td>total</td>\n                </tr>\n              </thead>\n              <tbody>\n                {cartProducts && cartProducts.map((product, index) => {\n                  return (\n                    <tr key={index}>\n                      <td><img src={product.image} alt={product.name}/></td>\n                      <td className={styles.name}>{product.name}</td>\n                      <td>{product.subCategoryId?.name}</td>\n                      <td className={styles.quantity}>\n                        <div className={styles.quantityContainer}>\n                          <div className={styles.inputContainer}>\n                            <input\n                              type=\"number\"\n                              id='quantity'\n                              value={product.cartQuantiy}\n                              readOnly\n                            />\n                            <div>\n                              <span onClick={()=>addQuantity(product._id)}> <BsPlus/> </span>\n                              <span onClick={()=>minusQuantity(product._id)}> <BiMinus/> </span>\n                            </div>\n                          </div>\n                          <div className={styles.btnContainer}>\n                            <button onClick={()=>clearItem(product._id)}> X </button>\n                          </div>\n                        </div>\n                      </td>\n                      <td>€ {parseFloat(product.price * product.cartQuantiy).toFixed(2)}</td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n          <div className={styles.summarizing}>\n            <div className={styles.containerSum}>\n              <div className={styles.item}>\n                <p>use coupon code</p>\n                <span>\n                  <button onClick={()=>setIsCouponVisible(!isCouponVisible)}>\n                    <BsArrowRightShort/>\n                  </button>\n                </span>\n              </div>\n              {isCouponVisible &&\n                <div className={styles.couponCont}>\n                  <form onSubmit={e=>handleCoupon(e)}>\n                    <input type=\"text\" placeholder='Type arduRob for 20% discount' onChange={(e)=>setCoupon(e.target.value)}/>\n                    <button type='submit'>Submit</button>\n                  </form>\n                </div>\n              }\n              <div className={styles.final}>\n                <div className={styles.finalInner}>\n                  <div>\n                    <p>Sub-Total:</p>\n                    <p>€ {parseFloat(totalSub()).toFixed(2)}</p>\n                  </div>\n                  <div>\n                    <p>Discount Value:</p>\n                    <p>{couponDiscount} %</p>\n                  </div>\n                  <div>\n                    <p>Total:</p>\n                    <p>€ {parseFloat(totalPrice()).toFixed(2)}</p>\n                  </div>\n                </div>\n              </div>\n              <div className={styles.btnContainer}>\n                <Link to='/shop'>\n                  <button>Continue Shopping</button>\n                </Link>\n                <Link to={{\n                  pathname: '/cart/checkout',\n                  state: cartProducts,\n                }}\n                >\n                  <button>Checkout</button>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      }\n      {!cartProducts || cartProducts.length === 0 &&\n        <div className={styles.containerEmpty}>\n          <BiCartAlt />\n          <div>\n            <p>Your cart is currently empty.</p>\n            <p>Back to shop and find something for you.</p>\n            <div className={styles.btn}>\n              <Button data='Go to shop' url='/shop'/>\n            </div>\n          </div>\n        </div>\n      }\n    </div>\n  );\n};\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}