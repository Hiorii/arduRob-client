{"ast":null,"code":"import _slicedToArray from\"/home/hiorii/Desktop/arduRob/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState,useRef}from'react';import styles from'./Popup.module.scss';import{AiOutlineClose}from'react-icons/ai';import{PopupContext}from'../../../context/popupContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Popup=function Popup(){var popup=useContext(PopupContext);var popupCont=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),initializer=_useState2[0],setInitializer=_useState2[1];var closePopup=function closePopup(){popup.closePopup();};var handleClickOutside=function handleClickOutside(e){if(popupCont.current&&!popupCont.current.contains(e.target)){closePopup();}};var handlePressEsc=function handlePressEsc(e){if(e.keyCode===27){closePopup();}};useEffect(function(){document.addEventListener('mousedown',handleClickOutside);document.addEventListener('keydown',handlePressEsc);return function(){document.removeEventListener('mousedown',handleClickOutside);document.removeEventListener('keydown',handlePressEsc);};},[closePopup,initializer]);return/*#__PURE__*/_jsx(_Fragment,{children:popup.popup.isVisible&&/*#__PURE__*/_jsx(\"div\",{className:styles.root,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.container,ref:popupCont,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.close,onClick:closePopup,children:/*#__PURE__*/_jsx(AiOutlineClose,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.title,children:popup.popup.title}),popup.popup.context]})})});};export default Popup;","map":{"version":3,"sources":["/home/hiorii/Desktop/arduRob/client/src/components/features/Popup/Popup.js"],"names":["React","useContext","useEffect","useState","useRef","styles","AiOutlineClose","PopupContext","Popup","popup","popupCont","initializer","setInitializer","closePopup","handleClickOutside","e","current","contains","target","handlePressEsc","keyCode","document","addEventListener","removeEventListener","isVisible","root","container","close","title","context"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,SAA3B,CAAsCC,QAAtC,CAAgDC,MAAhD,KAA6D,OAA7D,CAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAAQC,cAAR,KAA6B,gBAA7B,CACA,OAAQC,YAAR,KAA2B,+BAA3B,C,6IAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,KAAK,CAAGR,UAAU,CAACM,YAAD,CAAxB,CACA,GAAMG,CAAAA,SAAS,CAAGN,MAAM,CAAC,IAAD,CAAxB,CAFkB,cAGoBD,QAAQ,CAAC,KAAD,CAH5B,wCAGXQ,WAHW,eAGEC,cAHF,eAMlB,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBJ,KAAK,CAACI,UAAN,GACD,CAFD,CAIA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,CAAC,CAAI,CAC9B,GAAIL,SAAS,CAACM,OAAV,EAAqB,CAACN,SAAS,CAACM,OAAV,CAAkBC,QAAlB,CAA2BF,CAAC,CAACG,MAA7B,CAA1B,CAAgE,CAC9DL,UAAU,GACX,CACF,CAJD,CAKA,GAAMM,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAJ,CAAC,CAAI,CAC1B,GAAIA,CAAC,CAACK,OAAF,GAAc,EAAlB,CAAsB,CACpBP,UAAU,GACX,CACF,CAJD,CAMAX,SAAS,CAAC,UAAK,CACbmB,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuCR,kBAAvC,EACAO,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCH,cAArC,EACA,MAAO,WAAM,CACXE,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,CAA0CT,kBAA1C,EACAO,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,CAAwCJ,cAAxC,EACD,CAHD,CAID,CAPQ,CAOP,CAACN,UAAD,CAAaF,WAAb,CAPO,CAAT,CASA,mBACE,yBACGF,KAAK,CAACA,KAAN,CAAYe,SAAZ,eACD,YAAK,SAAS,CAAEnB,MAAM,CAACoB,IAAvB,uBACE,aAAK,SAAS,CAAEpB,MAAM,CAACqB,SAAvB,CAAkC,GAAG,CAAEhB,SAAvC,wBACE,YAAK,SAAS,CAAEL,MAAM,CAACsB,KAAvB,CAA8B,OAAO,CAAEd,UAAvC,uBACE,KAAC,cAAD,IADF,EADF,cAIE,YAAK,SAAS,CAAER,MAAM,CAACuB,KAAvB,UAA+BnB,KAAK,CAACA,KAAN,CAAYmB,KAA3C,EAJF,CAKGnB,KAAK,CAACA,KAAN,CAAYoB,OALf,GADF,EAFF,EADF,CAeD,CA7CD,CAmDA,cAAerB,CAAAA,KAAf","sourcesContent":["import React, {useContext, useEffect, useState, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Popup.module.scss';\nimport {AiOutlineClose} from 'react-icons/ai';\nimport {PopupContext} from '../../../context/popupContext';\n\nconst Popup = () => {\n  const popup = useContext(PopupContext);\n  const popupCont = useRef(null);\n  const [initializer, setInitializer] = useState(false);\n\n\n  const closePopup = () => {\n    popup.closePopup();\n  };\n\n  const handleClickOutside = e => {\n    if (popupCont.current && !popupCont.current.contains(e.target)) {\n      closePopup();\n    }\n  };\n  const handlePressEsc = e => {\n    if (e.keyCode === 27) {\n      closePopup();\n    }\n  };\n\n  useEffect(()=> {\n    document.addEventListener('mousedown', handleClickOutside);\n    document.addEventListener('keydown', handlePressEsc);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('keydown', handlePressEsc);\n    };\n  },[closePopup, initializer]);\n\n  return (\n    <>\n      {popup.popup.isVisible &&\n      <div className={styles.root}>\n        <div className={styles.container} ref={popupCont}>\n          <div className={styles.close} onClick={closePopup}>\n            <AiOutlineClose />\n          </div>\n          <div className={styles.title}>{popup.popup.title}</div>\n          {popup.popup.context}\n        </div>\n      </div>\n      }\n    </>\n  );\n};\n\nPopup.propTypes = {\n\n};\n\nexport default Popup;\n"]},"metadata":{},"sourceType":"module"}